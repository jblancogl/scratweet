<head>
  <style> body { margin: 0; } </style>

  <script src="//unpkg.com/3d-force-graph"></script>
</head>

<body>
  <div id="3d-graph"></div>

  <script>
    function loadJSON(path) {
      return new Promise((resolve, reject) => {
        const xobj = new XMLHttpRequest()

        xobj.overrideMimeType("application/json")
        xobj.open('GET', path, true)
        xobj.onreadystatechange = function () {
          if (xobj.readyState == 4 && xobj.status == "200") {
            resolve(xobj.responseText)
          }
        }
        xobj.send(null)
      })
    }
    loadJSON('/network.json')
      .then((json) => {
        const data = JSON.parse(json)
      
        const gData = {
          nodes: data.nodes.map(i => ({ id: i })),
          links: data.edges.map(e => ({
            source: e.from,
            target: e.to
          }))
        }

        const Graph = ForceGraph3D()
          (document.getElementById('3d-graph'))
          .nodeLabel(node => `${node.id}`)
          .graphData(gData);
      })
  </script>
</body>